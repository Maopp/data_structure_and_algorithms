# 堆排序

> 二叉堆本质上是一种完全二叉树，它分为两个类型：
    1.最大堆：最大堆任何一个父节点的值，都大于等于它左右孩子节点的值。
    2.最小堆：最小堆任何一个父节点的值，都小于等于它左右孩子节点的值。
    
> 二叉堆是实现堆排序和优先级队列的基础。

> 二叉堆的根节点叫做**堆顶**。
最大堆和最小堆的特点，决定了在最大堆的堆顶是整个堆中的**最大元素**；最小堆的堆顶是整个堆中的**最小元素**。

## 堆的自我调整：
   对于二叉堆，如下有几种操作：
   - **插入节点**：二叉堆的节点插入，插入位置是完全二叉树的最后一个位置。
   - **删除节点**：二叉堆的节点删除过程和插入过程正好相反，所删除的是处于堆顶的节点。
   - **构建二叉堆**：构建二叉堆，也就是把一个无序的完全二叉树调整为二叉堆，本质上就是让**所有非叶子节点依次下沉**。
   
## 二叉堆的存储形式：
    二叉堆虽然是一颗完全二叉树，但它的存储方式并不是链式存储，而是顺序存储。换句话说，二叉堆的所有节点都存储在数组当中。
    
## 查找子节点：
    数组中，在没有左右指针的情况下，如何定位到一个父节点的左孩子和右孩子呢？
    假设父节点的下标是parent，那么它的左孩子下标就是 2*parent+1；它的右孩子下标就是  2*parent+2 。
    
    
- **原理**：堆排序是利用堆这种数据结构而设计的一种排序算法，堆排序是一种选择排序。
    大顶堆：arr[i] >= arr[2i+1] && arr[i] >= arr[2i+2]  
    小顶堆：arr[i] <= arr[2i+1] && arr[i] <= arr[2i+2]  
- **思路**：
    1.将待排序的序列构造成一个大顶堆，此时，整个序列的最大值就是堆顶的根节点
    2.将堆顶元素与末尾元素进行交换，此时末尾的值为最大值
    3.然后将剩下的n-1个元素重新构造成一个堆，重复1，2步操作

## 优点：

## 时间复杂度：
    堆排序是一种选择排序，整体主要由构建初始堆+交换堆顶元素和末尾元素并重建堆两部分组成。其中构建初始堆经推导复杂度为O(n)，
    在交换并重建堆的过程中，需交换n-1次，而重建堆的过程中，根据完全二叉树的性质，[log2(n-1),log2(n-2)...1]逐步递减，
    近似为nlogn。所以堆排序时间复杂度一般认为就是O(nlogn)
